<!DOCTYPE html>
<html class="no-js">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>CircuitBreaker</title>
    <link href="../../../images/logo-icon.svg" rel="icon" type="image/svg">
    <script>var pathToRoot = "../../../";</script>
    <script>document.documentElement.classList.replace("no-js","js");</script>
    <script>const storage = localStorage.getItem("dokka-dark-mode")
    if (storage == null) {
        const osDarkSchemePreferred = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
        if (osDarkSchemePreferred === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    } else {
        const savedDarkMode = JSON.parse(storage)
        if(savedDarkMode === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    }
    </script>
<script type="text/javascript" src="https://unpkg.com/kotlin-playground@1/dist/playground.min.js" async="async"></script>
<script type="text/javascript" src="../../../scripts/sourceset_dependencies.js" async="async"></script>
<link href="../../../styles/style.css" rel="Stylesheet">
<link href="../../../styles/main.css" rel="Stylesheet">
<link href="../../../styles/prism.css" rel="Stylesheet">
<link href="../../../styles/logo-styles.css" rel="Stylesheet">
<link href="../../../styles/font-jb-sans-auto.css" rel="Stylesheet">
<script type="text/javascript" src="../../../scripts/clipboard.js" async="async"></script>
<script type="text/javascript" src="../../../scripts/navigation-loader.js" async="async"></script>
<script type="text/javascript" src="../../../scripts/platform-content-handler.js" async="async"></script>
<script type="text/javascript" src="../../../scripts/main.js" defer="defer"></script>
<script type="text/javascript" src="../../../scripts/prism.js" async="async"></script>
<script type="text/javascript" src="../../../scripts/symbol-parameters-wrapper_deferred.js" defer="defer"></script>
</head>
<body>
    <div class="root">
<nav class="navigation" id="navigation-wrapper">
    <div class="navigation--inner">
        <div class="navigation-title">
            <button class="menu-toggle" id="menu-toggle" type="button">toggle menu</button>
            <div class="library-name">
                    <a class="library-name--link" href="../../../index.html">
                            lib
                    </a>
            </div>
            <div class="library-version">
0.0.1            </div>
        </div>
        <div class="filter-section" id="filter-section">
                <button class="platform-tag platform-selector common-like" data-active="" data-filter=":kresil-lib:lib:dokkaHtml/commonMain">common</button>
        </div>
    </div>
    <div class="navigation-controls">
        <button class="navigation-controls--btn navigation-controls--theme" id="theme-toggle-button" type="button">switch theme</button>
        <div class="navigation-controls--btn navigation-controls--search" id="searchBar" role="button">search in API</div>
    </div>
</nav>
        <div id="container">
            <div class="sidebar" id="leftColumn">
                <div class="sidebar--inner" id="sideMenu"></div>
            </div>
            <div id="main">
<div class="main-content" data-page-type="classlike" id="content" pageIds="lib::kresil.circuitbreaker/CircuitBreaker///PointingToDeclaration//1692101997">
  <div class="breadcrumbs"><a href="../../../index.html">lib</a><span class="delimiter">/</span><a href="../index.html">kresil.circuitbreaker</a><span class="delimiter">/</span><span class="current">CircuitBreaker</span></div>
  <div class="cover ">
    <h1 class="cover"><span>Circuit</span><wbr></wbr><span><span>Breaker</span></span></h1>
    <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":kresil-lib:lib:dokkaHtml/commonMain"><div class="symbol monospace"><span class="token keyword">class </span><a href="index.html">CircuitBreaker</a><span class="token punctuation">(</span><span class="parameters "><span class="parameter "><span class="token keyword">val </span>config<span class="token operator">: </span><a href="../../kresil.circuitbreaker.config/-circuit-breaker-config/index.html">CircuitBreakerConfig</a><span class="token operator"> = </span>defaultCircuitBreakerConfig()</span></span><span class="token punctuation">)</span> : <a href="../../kresil.core.events/-flow-event-listener-impl/index.html">FlowEventListenerImpl</a><span class="token operator">&lt;</span><a href="../../kresil.circuitbreaker.event/-circuit-breaker-event/index.html">CircuitBreakerEvent</a><span class="token operator">&gt; </span></div><p class="paragraph">The <a href="https://learn.microsoft.com/en-us/azure/architecture/patterns/circuit-breaker">Circuit Breaker</a> is a <strong>reactive</strong> resilience mechanism that can be used to protect a system component from overloading or failing. By monitoring the health of the system, the circuit breaker can short-circuit execution requests when it detects that the system component is not behaving as expected. After a configurable timeout, the circuit breaker allows a limited number of test requests to pass through to see if the system has recovered. Depending on the test results, the circuit breaker can resume normal operation or continue to short-circuit requests. A circuit breaker is initialized with a configuration that, through pre-configured policies, define its behaviour. The circuit breaker implements the following state machine:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">                failure rate exceeds<br>    +--------+  or equals threshold   +------+<br>    | Closed | ---------------------&gt; | Open |<br>    +--------+                        +------+<br>        ^                               |  ^<br>        |                         after |  |  failure rate<br>        |                       timeout |  |  exceeds or<br>        |                               |  |  equals threshold<br>        |       failure rate            v  |<br>        |       below threshold     +-----------+<br>        |-------------------------- | Half-Open |<br>                                    +-----------+</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><ul><li><p class="paragraph">In the <a href="../../kresil.circuitbreaker.state/-circuit-breaker-state/-closed/index.html">Closed</a> state, the circuit breaker allows calls to execute the underlying operation, while recording the success or failure of these calls. When the failure rate exceeds a (configurable) threshold, the circuit breaker transitions to the <a href="../../kresil.circuitbreaker.state/-circuit-breaker-state/-open/index.html">Open</a> state.</p></li><li><p class="paragraph">In the <a href="../../kresil.circuitbreaker.state/-circuit-breaker-state/-open/index.html">Open</a> state, the circuit breaker rejects all received calls for a (configurable) amount of time and then transitions to the <a href="../../kresil.circuitbreaker.state/-circuit-breaker-state/-half-open/index.html">HalfOpen</a> state.</p></li><li><p class="paragraph">In the <a href="../../kresil.circuitbreaker.state/-circuit-breaker-state/-half-open/index.html">HalfOpen</a> state, the circuit breaker allows a (configurable) number of calls to test if the underlying operation is still failing. After all calls have been attempted, the circuit breaker transitions back to the <a href="../../kresil.circuitbreaker.state/-circuit-breaker-state/-open/index.html">Open</a> state if newly calculated failure rate exceeds or equals the threshold; otherwise, it transitions to the <a href="../../kresil.circuitbreaker.state/-circuit-breaker-state/-closed/index.html">Closed</a> state.</p></li></ul><p class="paragraph">Examples of usage:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">// use predefined policies<br>val circuitBreaker = CircuitBreaker()<br><br>// use custom policies<br>val circuitBreaker = CircuitBreaker(<br>  circuitBreakerConfig {<br>    failureRateThreshold = 0.5<br>    slidingWindow(size = 10, minimumThroughput = 10)<br>    waitDurationInOpenState = 10.seconds<br>    recordResultPredicate { it is &quot;success&quot; }<br>    recordExceptionPredicate { it is NetworkError }<br>  }<br>)<br><br>// get the current state of the circuit breaker<br>val observedState = circuitBreaker.currentState()<br><br>// wire the circuit breaker<br>circuitBreaker.wire()<br><br>// execute an operation under the circuit breaker<br>val result = circuitBreaker.executeOperation {<br>    // operation<br>}<br><br>// listen to specific events<br>circuitBreaker.onCallNotPermitted {<br>    // action<br>}<br><br>// listen to all events<br>circuitBreaker.onEvent {<br>    // action<br>}<br><br>// cancel all registered listeners<br>circuitBreaker.cancelListeners()<br><br>// manually:<br>// - override the circuit breaker state<br>circuitBreaker.transitionToOpen()<br>// - reset the circuit breaker<br>circuitBreaker.reset()<br>// - record an operation success<br>circuitBreaker.recordSuccess()<br>// - record an operation failure<br>circuitBreaker.recordFailure()</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div></div></div>
  </div>
  <div class="tabbedcontent">
    <div class="tabs-section" tabs-section="tabs-section"><button class="section-tab" data-active="" data-togglable="CONSTRUCTOR,TYPE,PROPERTY,FUNCTION">Members</button></div>
    <div class="tabs-section-body">
      <div data-togglable="CONSTRUCTOR">
        <h2 class="">Constructors</h2>
        <div class="table"><a data-name="802616674%2FConstructors%2F1692101997" anchor-label="CircuitBreaker" id="802616674%2FConstructors%2F1692101997" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain"></a>
          <div class="table-row" data-togglable="CONSTRUCTOR" data-filterable-current=":kresil-lib:lib:dokkaHtml/commonMain" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="-circuit-breaker.html"><span>Circuit</span><wbr></wbr><span><span>Breaker</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="802616674%2FConstructors%2F1692101997"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":kresil-lib:lib:dokkaHtml/commonMain"><div class="symbol monospace"><span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">config<span class="token operator">: </span><a href="../../kresil.circuitbreaker.config/-circuit-breaker-config/index.html">CircuitBreakerConfig</a><span class="token operator"> = </span>defaultCircuitBreakerConfig()</span></span><span class="token punctuation">)</span></div></div></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div data-togglable="PROPERTY">
        <h2 class="">Properties</h2>
        <div class="table"><a data-name="-1416047355%2FProperties%2F1692101997" anchor-label="config" id="-1416047355%2FProperties%2F1692101997" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain"></a>
          <div class="table-row" data-filterable-current=":kresil-lib:lib:dokkaHtml/commonMain" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="config.html"><span><span>config</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-1416047355%2FProperties%2F1692101997"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":kresil-lib:lib:dokkaHtml/commonMain"><div class="symbol monospace"><span class="token keyword">val </span><a href="config.html">config</a><span class="token operator">: </span><a href="../../kresil.circuitbreaker.config/-circuit-breaker-config/index.html">CircuitBreakerConfig</a></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-921396488%2FProperties%2F1692101997" anchor-label="events" id="-921396488%2FProperties%2F1692101997" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain"></a>
          <div class="table-row" data-filterable-current=":kresil-lib:lib:dokkaHtml/commonMain" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="../../kresil.core.events/-flow-event-listener-impl/events.html"><span><span>events</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-921396488%2FProperties%2F1692101997"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":kresil-lib:lib:dokkaHtml/commonMain"><div class="symbol monospace"><span class="token keyword">open </span><span class="token keyword">override </span><span class="token keyword">val </span><a href="../../kresil.core.events/-flow-event-listener-impl/events.html">events</a><span class="token operator">: </span><span data-unresolved-link="kotlinx.coroutines.flow/MutableSharedFlow///PointingToDeclaration/">MutableSharedFlow</span><span class="token operator">&lt;</span><a href="../../kresil.circuitbreaker.event/-circuit-breaker-event/index.html">CircuitBreakerEvent</a><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">A mutable shared flow that emits events of type <a href="../../kresil.core.events/-flow-event-listener-impl/index.html">Event</a>. Such events can be listened to by:</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="1337113397%2FProperties%2F1692101997" anchor-label="scope" id="1337113397%2FProperties%2F1692101997" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain"></a>
          <div class="table-row" data-filterable-current=":kresil-lib:lib:dokkaHtml/commonMain" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="../../kresil.core.events/-flow-event-listener-impl/scope.html"><span><span>scope</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="1337113397%2FProperties%2F1692101997"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":kresil-lib:lib:dokkaHtml/commonMain"><div class="symbol monospace"><span class="token keyword">open </span><span class="token keyword">override </span><span class="token keyword">val </span><a href="../../kresil.core.events/-flow-event-listener-impl/scope.html">scope</a><span class="token operator">: </span><span data-unresolved-link="kotlinx.coroutines/CoroutineScope///PointingToDeclaration/">CoroutineScope</span></div><div class="brief "><p class="paragraph">The scope in which each listener will be launched upon registration.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div data-togglable="FUNCTION">
        <h2 class="">Functions</h2>
        <div class="table"><a data-name="463778500%2FFunctions%2F1692101997" anchor-label="cancelListeners" id="463778500%2FFunctions%2F1692101997" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain"></a>
          <div class="table-row" data-filterable-current=":kresil-lib:lib:dokkaHtml/commonMain" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="../../kresil.core.events/-flow-event-listener-impl/cancel-listeners.html"><span>cancel</span><wbr></wbr><span><span>Listeners</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="463778500%2FFunctions%2F1692101997"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":kresil-lib:lib:dokkaHtml/commonMain"><div class="symbol monospace"><span class="token keyword">open </span><span class="token keyword">override </span><span class="token keyword">fun </span><a href="../../kresil.core.events/-flow-event-listener-impl/cancel-listeners.html"><span class="token function">cancelListeners</span></a><span class="token punctuation">(</span><span class="token punctuation">)</span></div><div class="brief "><p class="paragraph">Cancels all listeners registered. Subsequent registrations should not be affected.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-644470033%2FFunctions%2F1692101997" anchor-label="currentState" id="-644470033%2FFunctions%2F1692101997" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain"></a>
          <div class="table-row" data-filterable-current=":kresil-lib:lib:dokkaHtml/commonMain" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="current-state.html"><span>current</span><wbr></wbr><span><span>State</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-644470033%2FFunctions%2F1692101997"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":kresil-lib:lib:dokkaHtml/commonMain"><div class="symbol monospace"><span class="token keyword">suspend </span><span class="token keyword">fun </span><a href="current-state.html"><span class="token function">currentState</span></a><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../../kresil.circuitbreaker.state/-circuit-breaker-state/index.html">CircuitBreakerState</a></div><div class="brief "><p class="paragraph">Returns the current state of the circuit breaker as a snapshot.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="2118754171%2FFunctions%2F1692101997" anchor-label="executeOperation" id="2118754171%2FFunctions%2F1692101997" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain"></a>
          <div class="table-row" data-filterable-current=":kresil-lib:lib:dokkaHtml/commonMain" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="execute-operation.html"><span>execute</span><wbr></wbr><span><span>Operation</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="2118754171%2FFunctions%2F1692101997"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":kresil-lib:lib:dokkaHtml/commonMain"><div class="symbol monospace"><span class="token keyword">suspend </span><span class="token keyword">fun </span><span class="token operator">&lt;</span><a href="execute-operation.html">R</a><span class="token operator">&gt; </span><a href="execute-operation.html"><span class="token function">executeOperation</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">block<span class="token operator">: </span><a href="../../kresil.core.oper/-supplier/index.html">Supplier</a><span class="token operator">&lt;</span><a href="execute-operation.html">R</a><span class="token operator">&gt;</span></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="execute-operation.html">R</a></div><div class="brief "><p class="paragraph">Executes the given operation decorated by this circuit breaker and returns its result, while handling any possible failure and emitting the necessary events.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="623683432%2FFunctions%2F1692101997" anchor-label="onCallNotPermitted" id="623683432%2FFunctions%2F1692101997" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain"></a>
          <div class="table-row" data-filterable-current=":kresil-lib:lib:dokkaHtml/commonMain" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="on-call-not-permitted.html"><span>on</span><wbr></wbr><span>Call</span><wbr></wbr><span>Not</span><wbr></wbr><span><span>Permitted</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="623683432%2FFunctions%2F1692101997"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":kresil-lib:lib:dokkaHtml/commonMain"><div class="symbol monospace"><span class="token keyword">suspend </span><span class="token keyword">fun </span><a href="on-call-not-permitted.html"><span class="token function">onCallNotPermitted</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">action<span class="token operator">: </span><span class="token keyword">suspend </span><span class="token punctuation">(</span><a href="../../kresil.circuitbreaker.event/-circuit-breaker-event/-call-not-permitted/index.html">CircuitBreakerEvent.CallNotPermitted</a><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html">Unit</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><span data-unresolved-link="kotlinx.coroutines/Job///PointingToDeclaration/">Job</span></div><div class="brief "><p class="paragraph">Executes the given <a href="on-call-not-permitted.html">action</a> when a request is not permitted by the circuit breaker, either because it is in the <a href="../../kresil.circuitbreaker.state/-circuit-breaker-state/-open/index.html">Open</a> state or the permitted number of calls in the <a href="../../kresil.circuitbreaker.state/-circuit-breaker-state/-half-open/index.html">HalfOpen</a> state has been exceeded and the circuit breaker is still in the <a href="../../kresil.circuitbreaker.state/-circuit-breaker-state/-half-open/index.html">HalfOpen</a> state.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-1058987480%2FFunctions%2F1692101997" anchor-label="onEvent" id="-1058987480%2FFunctions%2F1692101997" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain"></a>
          <div class="table-row" data-filterable-current=":kresil-lib:lib:dokkaHtml/commonMain" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="on-event.html"><span>on</span><wbr></wbr><span><span>Event</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-1058987480%2FFunctions%2F1692101997"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":kresil-lib:lib:dokkaHtml/commonMain"><div class="symbol monospace"><span class="token keyword">open </span><span class="token keyword">suspend override </span><span class="token keyword">fun </span><a href="on-event.html"><span class="token function">onEvent</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">action<span class="token operator">: </span><span class="token keyword">suspend </span><span class="token punctuation">(</span><a href="../../kresil.circuitbreaker.event/-circuit-breaker-event/index.html">CircuitBreakerEvent</a><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html">Unit</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><span data-unresolved-link="kotlinx.coroutines/Job///PointingToDeclaration/">Job</span></div><div class="brief "><p class="paragraph">Executes the given <a href="on-event.html">action</a> when a circuit breaker event occurs. This function can be used to listen to all retry events.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-1390416089%2FFunctions%2F1692101997" anchor-label="onOperationFailure" id="-1390416089%2FFunctions%2F1692101997" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain"></a>
          <div class="table-row" data-filterable-current=":kresil-lib:lib:dokkaHtml/commonMain" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="on-operation-failure.html"><span>on</span><wbr></wbr><span>Operation</span><wbr></wbr><span><span>Failure</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-1390416089%2FFunctions%2F1692101997"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":kresil-lib:lib:dokkaHtml/commonMain"><div class="symbol monospace"><span class="token keyword">suspend </span><span class="token keyword">fun </span><a href="on-operation-failure.html"><span class="token function">onOperationFailure</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">action<span class="token operator">: </span><span class="token keyword">suspend </span><span class="token punctuation">(</span><a href="../../kresil.circuitbreaker.event/-circuit-breaker-event/-recorded-failure/index.html">CircuitBreakerEvent.RecordedFailure</a><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html">Unit</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><span data-unresolved-link="kotlinx.coroutines/Job///PointingToDeclaration/">Job</span></div><div class="brief "><p class="paragraph">Executes the given <a href="on-operation-failure.html">action</a> when an operation fails.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="818932377%2FFunctions%2F1692101997" anchor-label="onOperationSuccess" id="818932377%2FFunctions%2F1692101997" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain"></a>
          <div class="table-row" data-filterable-current=":kresil-lib:lib:dokkaHtml/commonMain" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="on-operation-success.html"><span>on</span><wbr></wbr><span>Operation</span><wbr></wbr><span><span>Success</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="818932377%2FFunctions%2F1692101997"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":kresil-lib:lib:dokkaHtml/commonMain"><div class="symbol monospace"><span class="token keyword">suspend </span><span class="token keyword">fun </span><a href="on-operation-success.html"><span class="token function">onOperationSuccess</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">action<span class="token operator">: </span><span class="token keyword">suspend </span><span class="token punctuation">(</span><a href="../../kresil.circuitbreaker.event/-circuit-breaker-event/-recorded-success/index.html">CircuitBreakerEvent.RecordedSuccess</a><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html">Unit</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><span data-unresolved-link="kotlinx.coroutines/Job///PointingToDeclaration/">Job</span></div><div class="brief "><p class="paragraph">Executes the given <a href="on-operation-success.html">action</a> when an operation succeeds.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-1716601826%2FFunctions%2F1692101997" anchor-label="onReset" id="-1716601826%2FFunctions%2F1692101997" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain"></a>
          <div class="table-row" data-filterable-current=":kresil-lib:lib:dokkaHtml/commonMain" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="on-reset.html"><span>on</span><wbr></wbr><span><span>Reset</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-1716601826%2FFunctions%2F1692101997"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":kresil-lib:lib:dokkaHtml/commonMain"><div class="symbol monospace"><span class="token keyword">suspend </span><span class="token keyword">fun </span><a href="on-reset.html"><span class="token function">onReset</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">action<span class="token operator">: </span><span class="token keyword">suspend </span><span class="token punctuation">(</span><a href="../../kresil.circuitbreaker.event/-circuit-breaker-event/-reset/index.html">CircuitBreakerEvent.Reset</a><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html">Unit</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><span data-unresolved-link="kotlinx.coroutines/Job///PointingToDeclaration/">Job</span></div><div class="brief "><p class="paragraph">Executes the given <a href="on-reset.html">action</a> when the circuit breaker resets.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="856465228%2FFunctions%2F1692101997" anchor-label="onStateTransition" id="856465228%2FFunctions%2F1692101997" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain"></a>
          <div class="table-row" data-filterable-current=":kresil-lib:lib:dokkaHtml/commonMain" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="on-state-transition.html"><span>on</span><wbr></wbr><span>State</span><wbr></wbr><span><span>Transition</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="856465228%2FFunctions%2F1692101997"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":kresil-lib:lib:dokkaHtml/commonMain"><div class="symbol monospace"><span class="token keyword">suspend </span><span class="token keyword">fun </span><a href="on-state-transition.html"><span class="token function">onStateTransition</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">action<span class="token operator">: </span><span class="token keyword">suspend </span><span class="token punctuation">(</span><a href="../../kresil.circuitbreaker.event/-circuit-breaker-event/-state-transition/index.html">CircuitBreakerEvent.StateTransition</a><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html">Unit</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><span data-unresolved-link="kotlinx.coroutines/Job///PointingToDeclaration/">Job</span></div><div class="brief "><p class="paragraph">Executes the given <a href="on-state-transition.html">action</a> when the circuit breaker transitions to a new state.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-2030788518%2FFunctions%2F1692101997" anchor-label="recordFailure" id="-2030788518%2FFunctions%2F1692101997" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain"></a>
          <div class="table-row" data-filterable-current=":kresil-lib:lib:dokkaHtml/commonMain" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="record-failure.html"><span>record</span><wbr></wbr><span><span>Failure</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-2030788518%2FFunctions%2F1692101997"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":kresil-lib:lib:dokkaHtml/commonMain"><div class="symbol monospace"><span class="token keyword">suspend </span><span class="token keyword">fun </span><a href="record-failure.html"><span class="token function">recordFailure</span></a><span class="token punctuation">(</span><span class="token punctuation">)</span></div><div class="brief "><p class="paragraph">Records a failed operation execution.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-505439231%2FFunctions%2F1692101997" anchor-label="recordSuccess" id="-505439231%2FFunctions%2F1692101997" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain"></a>
          <div class="table-row" data-filterable-current=":kresil-lib:lib:dokkaHtml/commonMain" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="record-success.html"><span>record</span><wbr></wbr><span><span>Success</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-505439231%2FFunctions%2F1692101997"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":kresil-lib:lib:dokkaHtml/commonMain"><div class="symbol monospace"><span class="token keyword">suspend </span><span class="token keyword">fun </span><a href="record-success.html"><span class="token function">recordSuccess</span></a><span class="token punctuation">(</span><span class="token punctuation">)</span></div><div class="brief "><p class="paragraph">Records a successful operation execution.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="1790047684%2FFunctions%2F1692101997" anchor-label="reset" id="1790047684%2FFunctions%2F1692101997" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain"></a>
          <div class="table-row" data-filterable-current=":kresil-lib:lib:dokkaHtml/commonMain" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="reset.html"><span><span>reset</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="1790047684%2FFunctions%2F1692101997"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":kresil-lib:lib:dokkaHtml/commonMain"><div class="symbol monospace"><span class="token keyword">suspend </span><span class="token keyword">fun </span><a href="reset.html"><span class="token function">reset</span></a><span class="token punctuation">(</span><span class="token punctuation">)</span></div><div class="brief "><p class="paragraph">Resets the circuit breaker to the <a href="../../kresil.circuitbreaker.state/-circuit-breaker-state/-closed/index.html">Closed</a> state, clearing the sliding window of any recorded results.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="846177950%2FFunctions%2F1692101997" anchor-label="transitionToClosedState" id="846177950%2FFunctions%2F1692101997" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain"></a>
          <div class="table-row" data-filterable-current=":kresil-lib:lib:dokkaHtml/commonMain" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="transition-to-closed-state.html"><span>transition</span><wbr></wbr><span>To</span><wbr></wbr><span>Closed</span><wbr></wbr><span><span>State</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="846177950%2FFunctions%2F1692101997"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":kresil-lib:lib:dokkaHtml/commonMain"><div class="symbol monospace"><span class="token keyword">suspend </span><span class="token keyword">fun </span><a href="transition-to-closed-state.html"><span class="token function">transitionToClosedState</span></a><span class="token punctuation">(</span><span class="token punctuation">)</span></div><div class="brief "><p class="paragraph">Transitions the circuit breaker to the <a href="../../kresil.circuitbreaker.state/-circuit-breaker-state/-closed/index.html">Closed</a> state, maintaining the recorded results.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-2026395377%2FFunctions%2F1692101997" anchor-label="transitionToHalfOpenState" id="-2026395377%2FFunctions%2F1692101997" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain"></a>
          <div class="table-row" data-filterable-current=":kresil-lib:lib:dokkaHtml/commonMain" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="transition-to-half-open-state.html"><span>transition</span><wbr></wbr><span>To</span><wbr></wbr><span>Half</span><wbr></wbr><span>Open</span><wbr></wbr><span><span>State</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-2026395377%2FFunctions%2F1692101997"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":kresil-lib:lib:dokkaHtml/commonMain"><div class="symbol monospace"><span class="token keyword">suspend </span><span class="token keyword">fun </span><a href="transition-to-half-open-state.html"><span class="token function">transitionToHalfOpenState</span></a><span class="token punctuation">(</span><span class="token punctuation">)</span></div><div class="brief "><p class="paragraph">Transitions the circuit breaker to the <a href="../../kresil.circuitbreaker.state/-circuit-breaker-state/-half-open/index.html">HalfOpen</a> state, maintaining the recorded results.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="876629116%2FFunctions%2F1692101997" anchor-label="transitionToOpenState" id="876629116%2FFunctions%2F1692101997" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain"></a>
          <div class="table-row" data-filterable-current=":kresil-lib:lib:dokkaHtml/commonMain" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="transition-to-open-state.html"><span>transition</span><wbr></wbr><span>To</span><wbr></wbr><span>Open</span><wbr></wbr><span><span>State</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="876629116%2FFunctions%2F1692101997"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":kresil-lib:lib:dokkaHtml/commonMain"><div class="symbol monospace"><span class="token keyword">suspend </span><span class="token keyword">fun </span><a href="transition-to-open-state.html"><span class="token function">transitionToOpenState</span></a><span class="token punctuation">(</span><span class="token punctuation">)</span></div><div class="brief "><p class="paragraph">Transitions the circuit breaker to the <a href="../../kresil.circuitbreaker.state/-circuit-breaker-state/-open/index.html">Open</a> state, maintaining the recorded results.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="798430114%2FFunctions%2F1692101997" anchor-label="wire" id="798430114%2FFunctions%2F1692101997" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain"></a>
          <div class="table-row" data-filterable-current=":kresil-lib:lib:dokkaHtml/commonMain" data-filterable-set=":kresil-lib:lib:dokkaHtml/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="wire.html"><span><span>wire</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="798430114%2FFunctions%2F1692101997"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":kresil-lib:lib:dokkaHtml/commonMain"><div class="symbol monospace"><span class="token keyword">suspend </span><span class="token keyword">fun </span><a href="wire.html"><span class="token function">wire</span></a><span class="token punctuation">(</span><span class="token punctuation">)</span></div><div class="brief "><p class="paragraph">Checks the current state of the circuit breaker and decides whether the operation is allowed to proceed. If the circuit breaker is in the <a href="../../kresil.circuitbreaker.state/-circuit-breaker-state/-open/index.html">Open</a> state or in the <a href="../../kresil.circuitbreaker.state/-circuit-breaker-state/-half-open/index.html">HalfOpen</a> state and the number of calls attempted does exceed the permitted number of calls in the half-open state, a <a href="../../kresil.circuitbreaker.exceptions/-call-not-permitted-exception/index.html">CallNotPermittedException</a> is thrown; otherwise, the operation is allowed to proceed.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
      <div class="footer">
        <span class="go-to-top-icon"><a href="#content" id="go-to-top-link"></a></span><span>Â© 2024 Copyright</span><span
                class="pull-right"><span>Generated by </span><a
                href="https://github.com/Kotlin/dokka"><span>dokka</span><span class="padded-icon"></span></a></span>
      </div>
            </div>
        </div>
    </div>
</body>
</html>
